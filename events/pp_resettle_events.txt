# namespace = resettle

# # TODO: Legacy code, needs integration
# # relocate machine pop
# pop_event = {
#     id = resettle.20
#     hide_window = yes
#     is_triggered_only = yes

#     trigger = {
#         # player only event
#         owner = { is_ai = no }

#         # only default machine empires relocate
#         owner = { is_country_type = default }
#         owner = { is_machine_empire = yes }

#         # only relocate if there are other pops on the planet
#         planet = { num_pops > 1 }

#         # only relocate when policy is active
#         owner = { has_policy_flag = pp_relocation_imperative_active }
        
#         # only relocate when resource cost can be paid
#         owner = { has_resource = { type = energy amount > 50 } }

#         # only relocate simple drones
#         is_pop_category = simple_drone

#         # only relocate unemployed pops or those on overcrowded planets
#         OR = {
#             is_unemployed = yes
#             planet = { free_housing < 0 }
#         }
        
#         # exclude pops that are being purged or assimilated
#         is_being_purged = no
#         is_being_assimilated = no        
#     }
    
# 	immediate = {
#         # log = "PP::resettle.20([This.GetName])"

#         owner = {
#             random_owned_planet = {
#                 limit = {
#                     free_jobs > 0
#                     free_housing > 0
#                     is_under_colonization = no 
#                 }

#                 # log = "PP::'Relocating Machine [Root.GetName] to [This.GetName]!'"
            
#                 # pay cost
#                 owner = { add_resource = { energy = -50 } }
                
#                 # relocate
#                 resettle_pop = { pop = root planet = this }
#             }
#         }
#     }
# }

# # TODO: Legacy code, needs integration
# # settle abductee
# pop_event = {
#     id = resettle.30
#     hide_window = yes
#     is_triggered_only = yes

#     trigger = {
#         # player only event
#         owner = { is_ai = no }

#         # only default empires relocate
#         owner = { is_country_type = default }
        
#         # only relocate if there are other pops on the planet
#         planet = { num_pops > 1 }

#         # only relocate when resource cost can be paid
#         owner = { has_resource = { type = energy amount > 25 } }

#         # only relocate pops that are being purged on a non-purge world
#         planet = { NOT = { has_modifier = pp_purge_world } }
#         is_being_purged = yes
#         is_being_assimilated = no
#     }
    
# 	immediate = {
#         # log = "PP::resettle.30([This.GetName])"

#         owner = {
#             random_owned_planet = {
#                 limit = {
#                     has_modifier = pp_purge_world
#                 }

#                 # log = "PP::'Relocating Undesirable [Root.GetName] to [This.GetName]!'"
            
#                 # pay cost
#                 owner = { add_resource = { energy = -25 } }
                
#                 # relocate
#                 resettle_pop = { pop = root planet = this }
#             }
#         }
#     }
# }